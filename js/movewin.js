// koffee 1.4.0

/*
00     00   0000000   000   000  00000000  000   000  000  000   000
000   000  000   000  000   000  000       000 0 000  000  0000  000
000000000  000   000   000 000   0000000   000000000  000  000 0 000
000 0 000  000   000     000     000       000   000  000  000  0000
000   000   0000000       0      00000000  00     00  000  000   000
 */
var Bounds, klog, moveWin, os, ref, slash, wxw;

ref = require('kxk'), slash = ref.slash, klog = ref.klog, os = ref.os;

Bounds = require('./bounds');

wxw = require('wxw');

moveWin = function(dir) {
    var ar, b, base, d, h, info, ref1, sb, sl, sr, st, w, wr, x, y;
    ar = {
        w: Bounds.screenWidth,
        h: Bounds.screenHeight
    };
    info = wxw('info', 'top')[0];
    if (info) {
        base = slash.base(info.path);
        if (base === 'kachel' || base === 'kappo') {
            return;
        }
        b = 0;
        if (os.platform() === 'win32') {
            if (base === 'electron' || base === 'ko' || base === 'konrad' || base === 'clippo' || base === 'klog' || base === 'kaligraf' || base === 'kalk' || base === 'uniko' || base === 'knot' || base === 'space' || base === 'ruler') {
                b = 0;
            } else if (base === 'devenv') {
                b = -1;
            } else {
                b = 10;
            }
        }
        wr = {
            x: info.x,
            y: info.y,
            w: info.width,
            h: info.height
        };
        d = 2 * b;
        ref1 = (function() {
            switch (dir) {
                case 'left':
                    return [-b, 0, ar.w / 2 + d, ar.h + b];
                case 'right':
                    return [ar.w / 2 - b, 0, ar.w / 2 + d, ar.h + b];
                case 'down':
                    return [ar.w / 4 - b, 0, ar.w / 2 + d, ar.h + b];
                case 'up':
                    return [ar.w / 6 - b, 0, 2 / 3 * ar.w + d, ar.h + b];
                case 'topleft':
                    return [-b, 0, ar.w / 3 + d, ar.h / 2];
                case 'top':
                    return [ar.w / 3 - b, 0, ar.w / 3 + d, ar.h / 2];
                case 'topright':
                    return [2 / 3 * ar.w - b, 0, ar.w / 3 + d, ar.h / 2];
                case 'botleft':
                    return [-b, ar.h / 2 - b, ar.w / 3 + d, ar.h / 2 + d];
                case 'bot':
                    return [ar.w / 3 - b, ar.h / 2 - b, ar.w / 3 + d, ar.h / 2 + d];
                case 'botright':
                    return [2 / 3 * ar.w - b, ar.h / 2 - b, ar.w / 3 + d, ar.h / 2 + d];
            }
        })(), x = ref1[0], y = ref1[1], w = ref1[2], h = ref1[3];
        sl = 20 > Math.abs(wr.x - x);
        sr = 20 > Math.abs(wr.x + wr.w - (x + w));
        st = 20 > Math.abs(wr.y - y);
        sb = 20 > Math.abs(wr.y + wr.h - (y + h));
        if (sl && sr && st && sb) {
            switch (dir) {
                case 'left':
                    w = ar.w / 4 + d;
                    break;
                case 'right':
                    w = ar.w / 4 + d;
                    x = 3 * ar.w / 4 - b;
                    break;
                case 'down':
                    h = ar.h / 2 + d;
                    y = ar.h / 2 - b;
                    break;
                case 'up':
                    w = ar.w + d;
                    x = -b;
            }
        }
        return wxw('bounds', info.id, parseInt(x), parseInt(y), parseInt(w), parseInt(h));
    } else {
        return klog('no info!');
    }
};

module.exports = moveWin;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW92ZXdpbi5qcyIsInNvdXJjZVJvb3QiOiIuIiwic291cmNlcyI6WyIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7Ozs7OztBQUFBLElBQUE7O0FBUUEsTUFBc0IsT0FBQSxDQUFRLEtBQVIsQ0FBdEIsRUFBRSxpQkFBRixFQUFTLGVBQVQsRUFBZTs7QUFFZixNQUFBLEdBQVMsT0FBQSxDQUFRLFVBQVI7O0FBQ1QsR0FBQSxHQUFTLE9BQUEsQ0FBUSxLQUFSOztBQUVULE9BQUEsR0FBVSxTQUFDLEdBQUQ7QUFFTixRQUFBO0lBQUEsRUFBQSxHQUFLO1FBQUEsQ0FBQSxFQUFFLE1BQU0sQ0FBQyxXQUFUO1FBQXNCLENBQUEsRUFBRSxNQUFNLENBQUMsWUFBL0I7O0lBTUwsSUFBQSxHQUFPLEdBQUEsQ0FBSSxNQUFKLEVBQVcsS0FBWCxDQUFrQixDQUFBLENBQUE7SUFFekIsSUFBRyxJQUFIO1FBRUksSUFBQSxHQUFPLEtBQUssQ0FBQyxJQUFOLENBQVcsSUFBSSxDQUFDLElBQWhCO1FBRVAsSUFBVSxJQUFBLEtBQVMsUUFBVCxJQUFBLElBQUEsS0FBa0IsT0FBNUI7QUFBQSxtQkFBQTs7UUFFQSxDQUFBLEdBQUk7UUFFSixJQUFHLEVBQUUsQ0FBQyxRQUFILENBQUEsQ0FBQSxLQUFpQixPQUFwQjtZQUNJLElBQUcsSUFBQSxLQUFTLFVBQVQsSUFBQSxJQUFBLEtBQW9CLElBQXBCLElBQUEsSUFBQSxLQUF5QixRQUF6QixJQUFBLElBQUEsS0FBa0MsUUFBbEMsSUFBQSxJQUFBLEtBQTJDLE1BQTNDLElBQUEsSUFBQSxLQUFrRCxVQUFsRCxJQUFBLElBQUEsS0FBNkQsTUFBN0QsSUFBQSxJQUFBLEtBQW9FLE9BQXBFLElBQUEsSUFBQSxLQUE0RSxNQUE1RSxJQUFBLElBQUEsS0FBbUYsT0FBbkYsSUFBQSxJQUFBLEtBQTJGLE9BQTlGO2dCQUNJLENBQUEsR0FBSSxFQURSO2FBQUEsTUFFSyxJQUFHLElBQUEsS0FBUyxRQUFaO2dCQUNELENBQUEsR0FB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QVQsQ0FBdEIsRUFBbUMsUUFBQSxDQUFTLENBQVQsQ0FBbkMsRUFBZ0QsUUFBQSxDQUFTLENBQVQsQ0FBaEQsRUFBNkQsUUFBQSxDQUFTLENBQVQsQ0FBN0QsRUEzQ0o7S0FBQSxNQUFBO2VBOENJLElBQUEsQ0FBSyxVQUFMLEVBOUNKOztBQVZNOztBQTBEVixNQUFNLENBQUMsT0FBUCxHQUFpQiIsInNvdXJjZXNDb250ZW50IjpbIiMjI1xuMDAgICAgIDAwICAgMDAwMDAwMCAgIDAwMCAgIDAwMCAgMDAwMDAwMDAgIDAwMCAgIDAwMCAgMDAwICAwMDAgICAwMDBcbjAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgICAgICAwMDAgMCAwMDAgIDAwMCAgMDAwMCAgMDAwXG4wMDAwMDAwMDAgIDAwMCAgIDAwMCAgIDAwMCAwMDAgICAwMDAwMDAwICAgMDAwMDAwMDAwICAwMDAgIDAwMCAwIDAwMFxuMDAwIDAgMDAwICAwMDAgICAwMDAgICAgIDAwMCAgICAgMDAwICAgICAgIDAwMCAgIDAwMCAgMDAwICAwMDAgIDAwMDBcbjAwMCAgIDAwMCAgIDAwMDAwMDAgICAgICAgMCAgICAgIDAwMDAwMDAwICAwMCAgICAgMDAgIDAwMCAgMDAwICAgMDAwXG4jIyNcblxueyBzbGFzaCwga2xvZywgb3MgfSA9IHJlcXVpcmUgJ2t4aydcblxuQm91bmRzID0gcmVxdWlyZSAnLi9ib3VuZHMnXG53eHcgICAgPSByZXF1aXJlICd3eHcnXG5cbm1vdmVXaW4gPSAoZGlyKSAtPlxuICAgIFxuICAgIGFyID0gdzpCb3VuZHMuc2NyZWVuV2lkdGgsIGg6Qm91bmRzLnNjcmVlbkhlaWdodFxuICAgICMgaWYgb3MucGxhdGZvcm0oKSA9PSAnZGFyd2luJ1xuICAgICMgZWxzZVxuICAgICAgICAjIHNjcmVlbiA9IHd4dyAnc2NyZWVuJyAndXNlcidcbiAgICAgICAgIyBhciA9IHc6c2NyZWVuLndpZHRoLCBoOnNjcmVlbi5oZWlnaHRcbiAgICBcbiAgICBpbmZvID0gd3h3KCdpbmZvJyAndG9wJylbMF1cblxuICAgIGlmIGluZm9cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgYmFzZSA9IHNsYXNoLmJhc2UgaW5mby5wYXRoXG4gICAgICAgIFxuICAgICAgICByZXR1cm4gaWYgYmFzZSBpbiBbJ2thY2hlbCcgJ2thcHBvJ11cbiAgICAgICAgXG4gICAgICAgIGIgPSAwXG5cbiAgICAgICAgaWYgb3MucGxhdGZvcm0oKSA9PSAnd2luMzInXG4gICAgICAgICAgICBpZiBiYXNlIGluIFsnZWxlY3Ryb24nICdrbycgJ2tvbnJhZCcgJ2NsaXBwbycgJ2tsb2cnICdrYWxpZ3JhZicgJ2thbGsnICd1bmlrbycgJ2tub3QnICdzcGFjZScgJ3J1bGVyJ11cbiAgICAgICAgICAgICAgICBiID0gMCAgIyBzYW5lIHdpbmRvdyBib3JkZXJcbiAgICAgICAgICAgIGVsc2UgaWYgYmFzZSBpbiBbJ2RldmVudiddXG4gICAgICAgICAgICAgICAgYiA9IC0xICAjIHd0Zj9cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBiID0gMTAgIyB0cmFuc3BhcmVudCB3aW5kb3cgYm9yZGVyXG4gICAgICAgIFxuICAgICAgICB3ciA9IHg6aW5mby54LCB5OmluZm8ueSwgdzppbmZvLndpZHRoLCBoOmluZm8uaGVpZ2h0XG4gICAgICAgIGQgPSAyKmJcbiAgICAgICAgW3gseSx3LGhdID0gc3dpdGNoIGRpclxuICAgICAgICAgICAgd2hlbiAnbGVmdCcgICAgIHRoZW4gWy1iLCAgICAgICAgIDAsICAgICAgICBhci53LzIrZCwgYXIuaCtiXVxuICAgICAgICAgICAgd2hlbiAncmlnaHQnICAgIHRoZW4gW2FyLncvMi1iLCAgIDAsICAgICAgICBhci53LzIrZCwgYXIuaCtiXVxuICAgICAgICAgICAgd2hlbiAnZG93bicgICAgIHRoZW4gW2FyLncvNC1iLCAgIDAsICAgICAgICBhci53LzIrZCwgYXIuaCtiXVxuICAgICAgICAgICAgd2hlbiAndXAnICAgICAgIHRoZW4gW2FyLncvNi1iLCAgIDAsICAgIDIvMyphci53K2QsICAgYXIuaCtiXVxuICAgICAgICAgICAgd2hlbiAndG9wbGVmdCcgIHRoZW4gWy1iLCAgICAgICAgIDAsICAgICAgICBhci53LzMrZCwgYXIuaC8yXVxuICAgICAgICAgICAgd2hlbiAndG9wJyAgICAgIHRoZW4gW2FyLncvMy1iLCAgIDAsICAgICAgICBhci53LzMrZCwgYXIuaC8yXVxuICAgICAgICAgICAgd2hlbiAndG9wcmlnaHQnIHRoZW4gWzIvMyphci53LWIsIDAsICAgICAgICBhci53LzMrZCwgYXIuaC8yXVxuICAgICAgICAgICAgd2hlbiAnYm90bGVmdCcgIHRoZW4gWy1iLCAgICAgICAgIGFyLmgvMi1iLCBhci53LzMrZCwgYXIuaC8yK2RdXG4gICAgICAgICAgICB3aGVuICdib3QnICAgICAgdGhlbiBbYXIudy8zLWIsICAgYXIuaC8yLWIsIGFyLncvMytkLCBhci5oLzIrZF1cbiAgICAgICAgICAgIHdoZW4gJ2JvdHJpZ2h0JyB0aGVuIFsyLzMqYXIudy1iLCBhci5oLzItYiwgYXIudy8zK2QsIGFyLmgvMitkXVxuICAgICAgICBcbiAgICAgICAgc2wgPSAyMCA+IE1hdGguYWJzIHdyLnggLSAgeFxuICAgICAgICBzciA9IDIwID4gTWF0aC5hYnMgd3IueCt3ci53IC0gKHgrdylcbiAgICAgICAgc3QgPSAyMCA+IE1hdGguYWJzIHdyLnkgLSAgeVxuICAgICAgICBzYiA9IDIwID4gTWF0aC5hYnMgd3IueSt3ci5oIC0gKHkraClcbiAgICAgICAgXG4gICAgICAgIGlmIHNsIGFuZCBzciBhbmQgc3QgYW5kIHNiXG4gICAgICAgICAgICBzd2l0Y2ggZGlyXG4gICAgICAgICAgICAgICAgd2hlbiAnbGVmdCcgIHRoZW4gdyA9IGFyLncvNCtkXG4gICAgICAgICAgICAgICAgd2hlbiAncmlnaHQnIHRoZW4gdyA9IGFyLncvNCtkOyB4ID0gMyphci53LzQtYlxuICAgICAgICAgICAgICAgIHdoZW4gJ2Rvd24nICB0aGVuIGggPSBhci5oLzIrZDsgeSA9IGFyLmgvMi1iXG4gICAgICAgICAgICAgICAgd2hlbiAndXAnICAgIHRoZW4gdyA9IGFyLncrZDsgICB4ID0gLWJcbiAgICAgICAgXG4gICAgICAgICMga2xvZyAnd3h3IGJvdW5kcycgaW5mby5pZCwgcGFyc2VJbnQoeCksIHBhcnNlSW50KHkpLCBwYXJzZUludCh3KSwgcGFyc2VJbnQoaClcbiAgICAgICAgd3h3ICdib3VuZHMnIGluZm8uaWQsIHBhcnNlSW50KHgpLCBwYXJzZUludCh5KSwgcGFyc2VJbnQodyksIHBhcnNlSW50KGgpXG4gICAgICAgIFxuICAgIGVsc2UgXG4gICAgICAgIGtsb2cgJ25vIGluZm8hJ1xuXG5tb2R1bGUuZXhwb3J0cyA9IG1vdmVXaW5cbiJdfQ==
//# sourceURL=../coffee/movewin.coffee